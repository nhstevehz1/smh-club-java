<div class="container">
  <div class="content">
    @if(member()) {
      <div class="flex-row space-evenly row-gap">
        <app-data-display [data]="fullName()" label="members.view.member"/>
        <app-data-display [data]="member()!.member_number" label="members.view.number" />
      </div>
      <div class="flex-row space-evenly row-gap">
         <app-data-display
          [data]="birthDate() | dateTimeToLocal | dateTimeToFormat: DateTime.DATE_SHORT: {locale: lang()}"
          label="members.view.birthDate" />
        <app-data-display
          [data]="joinedDate() | dateTimeToLocal | dateTimeToFormat: DateTime.DATE_SHORT : {locale: lang()}"
          label="members.view.joinedDate" />
      </div>
      <mat-accordion displayMode="flat">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>{{'members.view.addresses' | translate}}</mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <div class="flex-column col-gap">
                @for(address of addresses(); track address.id){
                    <app-view-address [address]="address"/>
                }
            </div>
          </ng-template>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>{{'members.view.phoneNumbers' | translate}}</mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <div class="flex-column gap">
                @for(phone of phones(); track phone.id){
                    <app-view-phone [phone]="phone"/>
                }
            </div>
          </ng-template>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>{{'members.view.emailAddresses' | translate}}</mat-panel-title>
          </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent>
              <div class="flex-column gap">
                @for(email of emails(); track email.id) {
                    <app-view-email [email]="email"/>
                }
              </div>
            </ng-template>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>{{'members.view.renewals' | translate}}</mat-panel-title>
          </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent>
              <div class="flex-column gap">
                @for(renewal of renewals(); track renewal.id) {
                    <app-view-renewal [renewal]="renewal"/>
                }
              </div>
            </ng-template>
        </mat-expansion-panel>
      </mat-accordion>

      <mat-divider />

      <div class="flex-row center">
        <button mat-icon-button
                [matTooltip]="'members.view.back.toolTip' | translate"
                (click)="onBack()">
          <mat-icon>arrow_back</mat-icon>
        </button>
      </div>

    }
  </div>
</div>
