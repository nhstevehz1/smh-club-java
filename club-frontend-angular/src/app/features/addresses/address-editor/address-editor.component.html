<div [formGroup]="editorForm">
    <div class="flex-column space-evenly">
        @if (showRemoveButton || isTitleDefined()) {
            <div class="flex-row" [ngClass]="{'space-between': isTitleDefined(), 'end': !isTitleDefined()}">
                @if(title) {
                    <div class="flex-row">
                        <mat-label class="editor-title">{{title | translate}}</mat-label>
                    </div>
                }
                @if(showRemoveButton) {
                    <button mat-icon-button (click)="onRemove()">
                        <mat-icon>delete</mat-icon>
                    </button>
                }
            </div>
        }

        <mat-form-field [appearance]="fieldAppearance">
            <mat-label>{{'addresses.editor.address1.label' | translate}}</mat-label>
            <input type="text" matInput [formControl]="address1">
            @if (address1Error()) {
                <mat-error>{{'addresses.editor.address2.error.required' | translate}}</mat-error>
            }
        </mat-form-field>

        <mat-form-field [appearance]="fieldAppearance">
            <mat-label>({{'addresses.editor.address2.label' | translate}})</mat-label>
            <input type="text" matInput [formControl]="address2">
            @if (address2Error()) {
                <mat-error>error</mat-error>
            }
        </mat-form-field>

        <div class="flex-row flex-start gap">
            <mat-form-field [appearance]="fieldAppearance">
                <mat-label>{{'addresses.editor.city.label' | translate }}</mat-label>
                <input type="text" matInput [formControl]="city">
                @if (cityError()) {
                    <mat-error>City/Town required</mat-error>
                }
            </mat-form-field>
            <mat-form-field [appearance]="fieldAppearance">
                <mat-label>{{'addresses.editor.state.label' | translate }}</mat-label>
                <input type="text" matInput [formControl]="state">
                @if (stateError()) {
                    <mat-error>State required</mat-error>
                }
            </mat-form-field>
        </div>

        <div class="flex-row flex-start gap">
            <mat-form-field [appearance]="fieldAppearance">
                <mat-label>{{'addresses.editor.postalCode.label' | translate }}</mat-label>
                <input type="text" matInput [formControl]="zip">
                @if (zipError()) {
                    <mat-error>ZIP code required</mat-error>
                }
            </mat-form-field>

            <mat-form-field [appearance]="fieldAppearance">
                <mat-label>{{'addresses.editor.addressType.label' | translate }}</mat-label>
                <mat-select [formControl]="addressType">
                    @for (option of addressTypes; track option){
                        <mat-option [value]="option">{{option}}</mat-option>
                    }
                </mat-select>
                @if (addressTypeError()) {
                    <mat-error>Address type required</mat-error>
                }
            </mat-form-field>
        </div>
    </div>
</div>
